@tailwind base;
@tailwind components;
@tailwind utilities;

:root {
  --background: hsl(0, 0%, 100%);
  --foreground: hsl(220, 14.3%, 4.1%);
  --muted: hsl(210, 40%, 96%);
  --muted-foreground: hsl(215.4, 16.3%, 46.9%);
  --popover: hsl(0, 0%, 100%);
  --popover-foreground: hsl(220, 14.3%, 4.1%);
  --card: hsl(0, 0%, 100%);
  --card-foreground: hsl(220, 14.3%, 4.1%);
  --border: hsl(214.3, 31.8%, 91.4%);
  --input: hsl(214.3, 31.8%, 91.4%);
  --primary: hsl(207, 90%, 54%);
  --primary-foreground: hsl(210, 40%, 98%);
  --secondary: hsl(210, 40%, 96%);
  --secondary-foreground: hsl(222.2, 84%, 4.9%);
  --accent: hsl(210, 40%, 96%);
  --accent-foreground: hsl(222.2, 84%, 4.9%);
  --destructive: hsl(0, 84.2%, 60.2%);
  --destructive-foreground: hsl(210, 40%, 98%);
  --ring: hsl(207, 90%, 54%);
  --radius: 0.5rem;
  
  /* Telegram App Colors */
  --telegram-blue: hsl(207, 100%, 50%);
  --telegram-blue-dark: hsl(207, 100%, 42%);
  --telegram-green: hsl(145, 63%, 49%);
  --telegram-red: hsl(0, 84%, 60%);
  --telegram-orange: hsl(25, 100%, 50%);
  --telegram-gray: hsl(240, 5%, 64%);
  --telegram-light-gray: hsl(220, 14%, 96%);
  --telegram-bg: hsl(0, 0%, 100%);
  --telegram-section-bg: hsl(220, 13%, 97%);
}

.dark {
  --background: hsl(222.2, 84%, 4.9%);
  --foreground: hsl(210, 40%, 98%);
  --muted: hsl(217.2, 32.6%, 17.5%);
  --muted-foreground: hsl(215, 20.2%, 65.1%);
  --popover: hsl(222.2, 84%, 4.9%);
  --popover-foreground: hsl(210, 40%, 98%);
  --card: hsl(222.2, 84%, 4.9%);
  --card-foreground: hsl(210, 40%, 98%);
  --border: hsl(217.2, 32.6%, 17.5%);
  --input: hsl(217.2, 32.6%, 17.5%);
  --primary: hsl(207, 90%, 54%);
  --primary-foreground: hsl(222.2, 84%, 4.9%);
  --secondary: hsl(217.2, 32.6%, 17.5%);
  --secondary-foreground: hsl(210, 40%, 98%);
  --accent: hsl(217.2, 32.6%, 17.5%);
  --accent-foreground: hsl(210, 40%, 98%);
  --destructive: hsl(0, 62.8%, 30.6%);
  --destructive-foreground: hsl(210, 40%, 98%);
  --ring: hsl(207, 90%, 54%);
  
  /* Telegram App Dark Colors */
  --telegram-blue: hsl(207, 90%, 54%);
  --telegram-blue-dark: hsl(207, 90%, 42%);
  --telegram-green: hsl(145, 63%, 49%);
  --telegram-red: hsl(0, 84%, 60%);
  --telegram-orange: hsl(25, 100%, 50%);
  --telegram-gray: hsl(240, 5%, 64%);
  --telegram-light-gray: hsl(222.2, 84%, 8%);
  --telegram-bg: hsl(222.2, 84%, 4.9%);
  --telegram-section-bg: hsl(217.2, 32.6%, 17.5%);
}

@layer base {
  * {
    @apply border-border;
  }

  body {
    @apply bg-background text-foreground font-sans antialiased;
    min-height: 100vh;
    min-height: 100dvh;
  }
}

@layer components {
  .telegram-gradient {
    background: linear-gradient(135deg, var(--telegram-blue) 0%, var(--telegram-blue-dark) 100%);
  }
  
  .role-badge {
    @apply text-xs px-2 py-1 rounded-md font-semibold uppercase;
  }
  
  .role-badge.leader {
    @apply bg-orange-100 text-orange-800 dark:bg-orange-900 dark:text-orange-200;
  }
  
  .role-badge.assistant {
    @apply bg-blue-100 text-blue-800 dark:bg-blue-900 dark:text-blue-200;
  }
  
  .role-badge.member {
    @apply bg-gray-100 text-gray-800 dark:bg-gray-800 dark:text-gray-200;
  }
  
  .event-card {
    @apply bg-card border border-border rounded-xl p-4 shadow-sm transition-all hover:shadow-md;
  }
  
  .event-card.important {
    @apply border-l-4 border-l-destructive;
  }
  
  .task-card {
    @apply bg-card border border-border rounded-xl p-4 shadow-sm;
  }
  
  .task-card.urgent {
    @apply border-l-4 border-l-destructive;
  }
  
  .task-card.warning {
    @apply border-l-4 border-l-yellow-500;
  }
  
  .task-card.completed {
    @apply opacity-60 bg-muted;
  }
  
  .calendar-day {
    @apply aspect-square min-h-16 p-2 border border-border rounded-lg cursor-pointer transition-colors hover:bg-accent;
  }
  
  .calendar-day.has-events {
    @apply bg-primary/10 border-primary/30;
  }
  
  .calendar-day.selected {
    @apply bg-primary text-primary-foreground;
  }
  
  .navigation-tab {
    @apply flex-1 py-3 text-center text-sm font-medium transition-colors text-muted-foreground hover:text-foreground;
  }
  
  .navigation-tab.active {
    @apply text-primary border-b-2 border-primary;
  }
  
  .floating-button {
    @apply fixed bottom-20 right-4 w-14 h-14 rounded-full shadow-lg flex items-center justify-center text-white transition-transform hover:scale-110 z-40;
    background: var(--telegram-blue);
  }
  
  .floating-button:hover {
    background: var(--telegram-blue-dark);
  }
  
  .notification-dot {
    @apply absolute -top-1 -right-1 w-3 h-3 bg-destructive rounded-full;
  }
  
  .deadline-urgent {
    animation: pulse 2s infinite;
  }
  
  .telegram-button {
    background: var(--telegram-blue);
    @apply text-white font-semibold py-3 px-6 rounded-xl hover:opacity-90 transition-opacity;
  }
  
  .telegram-button:hover {
    background: var(--telegram-blue-dark);
  }
  
  .telegram-button-secondary {
    @apply border border-primary text-primary font-semibold py-3 px-6 rounded-xl hover:bg-primary/10 transition-colors;
  }
}

@layer utilities {
  .text-balance {
    text-wrap: balance;
  }
}

/* Custom scrollbar for better mobile experience */
::-webkit-scrollbar {
  width: 4px;
}

::-webkit-scrollbar-track {
  background: var(--muted);
  border-radius: 10px;
}

::-webkit-scrollbar-thumb {
  background: var(--muted-foreground);
  border-radius: 10px;
}

::-webkit-scrollbar-thumb:hover {
  background: var(--foreground);
}

/* Mobile-first responsive adjustments */
@media (max-width: 640px) {
  .navigation-tab {
    font-size: 0.75rem;
    padding: 0.5rem;
  }
  
  .navigation-tab i {
    font-size: 1rem;
  }
}

/* Telegram Web App specific styles */
.tg-viewport {
  height: 100vh;
  height: 100dvh;
  overflow: hidden;
}

.tg-safe-area {
  padding-top: env(safe-area-inset-top);
  padding-bottom: env(safe-area-inset-bottom);
  padding-left: env(safe-area-inset-left);
  padding-right: env(safe-area-inset-right);
}

/* Animation keyframes */
@keyframes pulse {
  0%, 100% { 
    opacity: 1; 
  }
  50% { 
    opacity: 0.7; 
  }
}

@keyframes slideIn {
  from {
    transform: translateY(100%);
  }
  to {
    transform: translateY(0);
  }
}

@keyframes slideOut {
  from {
    transform: translateY(0);
  }
  to {
    transform: translateY(100%);
  }
}

.slide-in {
  animation: slideIn 0.3s ease-out;
}

.slide-out {
  animation: slideOut 0.3s ease-in;
}
